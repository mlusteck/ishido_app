<div class="container">
  <p id="notice"><%= notice %></p>
  <h2>Ishido Board</h2>
  <% if @game %>
    <p>
      <strong>Game ID: </strong><%= @game.id %> &mdash;
      <%= link_to 'Back', games_path, class: "edit-link" %>
    </p>
    <p>
      <% 8.times do |board_y| %>
        <% 12.times do |board_x| %>
          <% stone = @game.get_stone(board_x, board_y) %>
          <% if stone["color"] != 0 && stone["symbol"] >= "a" && stone["symbol"] <= "z"%>
            <span class='stone symbol<%= stone["symbol"] %> color<%= stone["color"] %>' ><%= stone["symbol"] %></span>
          <% else %>
            <% fit_count = @game.current_stone_fit_count(board_x, board_y) %>
            <% if fit_count == 0 %>
              <span class='stone' ><%= stone["symbol"] %></span>
            <% else %>
              <span class='stone place-stone'
                    data-board-x='<%= board_x %>'
                    data-board-y='<%= board_y %>'><%= "\u25cf" %></span>
            <% end %>
          <% end %>
        <% end %>
        <br />
      <% end %>
    </p>
    <p>
      <% if stone = @game.get_current_stone %>
        Next Stone: <span class='stone symbol<%= stone["symbol"] %> color<%= stone["color"] %>' ><%= stone["symbol"] %></span>
      <% end %>
    <p>
      <%= form_tag( games_path + "/" + @game.id.to_s + "/undo", method: :put ) do %>
        <%= submit_tag "Undo last move" %>
      <% end %>
      <%= form_tag( games_path + "/" + @game.id.to_s + "/set_stone", method: :put, class:"hidden-form") do %>
        <input type="hidden" id="board_x" name="board_x" value="2" />
        <input type="hidden" id="board_y" name="board_y" value="2" />
        <%= submit_tag "Set stone" %>
      <% end %>
    </p>

  <% else %>
    <p>
      <strong>No Order found with this ID.</strong>
    </p>
  <% end %>
  </p>

</div>
